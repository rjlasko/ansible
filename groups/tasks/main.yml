---
## -------------------------------------- ##
## Creates or updates a group and its GID ##
## -------------------------------------- ##

- name: ensure no users of group are logged on
  reboot:
    reboot_timeout: 600

- loop: "{{ define_groups }}"
  group:
    name: "{{ item.name | mandatory }}"
    gid: "{{ item.gid | mandatory }}"
