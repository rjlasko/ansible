---
## ------------ ##
## Installs Git ##
## ------------ ##

- name: check if git is accessible via path
  ansible.builtin.command: command -V git
  changed_when: false
  ignore_errors: true
  register: git_exists

- name: system install git
  when: git_exists.rc != 0
  block:
    - name: Linux install Git
      when: ansible_facts.system == 'Linux'
      ansible.builtin.package:
        name: git
        state: present

    - name: Homebrew install Git
      when: ansible_facts.system == 'Darwin'
      community.general.homebrew:
        name: git
        state: present
